/* --- CSS VARIABLES --- */
:root {
    --accordion-bg: #1f74f6;
    --accordion-text: white;
    --copy-btn-bg: rgba(31, 116, 246, 0.2);
    --copy-btn-bg-mobile: rgba(31, 116, 246, 0.3);
    --copy-btn-bg-hover: rgba(31, 116, 246, 0.4);
    --copy-btn-bg-copied: #1f74f6;
    --copy-btn-text: #fff;
}

/* --- 1. ACCORDION STYLES --- */
summary.accordion-summary {
    display: block;
    list-style: none;
}
summary.accordion-summary::-webkit-details-marker {
    display: none;
}
span.accordion-term {
    display: flex;
    justify-content: space-between;
    align-items: center;
    font-size: 1.1em;
    background: var(--accordion-bg);
    font-weight: 500;
    cursor: pointer;
    color: var(--accordion-text);
    padding: 0.5rem 0.8rem;
    user-select: none;
    border-radius: 4px;
}
span.accordion-term:after {
    content: "\276F";
    font-size: 0.9em;
    transform: rotate(90deg);
    transition: transform 0.3s ease;
}
/* Rotate arrow when open */
details[open] span.accordion-term:after {
    transform: rotate(270deg);
}
/* Animation Engine */
.accordion-content {
    display: grid;
    grid-template-rows: 0fr;
    transition: grid-template-rows 0.3s ease-out;
    overflow: hidden;
    visibility: hidden;
    padding: 0 !important;
    margin: 0 !important;
}
.accordion-container {
    min-width: 0;
    min-height: 0;
    opacity: 0;
    transition: opacity 0.3s ease;
}
.accordion-inner {
    padding: 0 0.625rem;
}
/* The Active State (Sibling Selector) */
details[open] + .accordion-content {
    grid-template-rows: 1fr;
    visibility: visible;
}
details[open] + .accordion-content .accordion-container {
    opacity: 1;
}
/* Wrapper Styles */
.accordion {
    margin-bottom: 1em;
    overflow: hidden;
}
.accordion-inner > :last-child {
    margin-bottom: 0;
}
.accordion-inner:has(> .code-wrapper:last-child) > .code-wrapper:last-child {
    margin-bottom: 0 !important;
}
.accordion-inner > .w-richtext:last-child {
    margin-bottom: 0;
}
/* --- 2. CODE BLOCK & COPY BUTTON STYLES --- */
.code-wrapper {
    position: relative;
    margin-bottom: 20px;
}
.copy-btn {
    position: absolute;
    top: 0.5rem;
    right: 0.5rem;
    background: var(--copy-btn-bg);
    border: none;
    border-radius: 4px;
    color: var(--copy-btn-text);
    font-size: 0.75rem;
    font-family: sans-serif;
    padding: 0.25rem 0.5rem;
    cursor: pointer;
    opacity: 0;
    transition:
        opacity 0.2s ease,
        background 0.2s ease;
    z-index: 10;
}
/* Show on hover for desktop */
.code-wrapper:hover .copy-btn {
    opacity: 1;
}
/* Always show on Touch Devices */
@media (max-width: 768px) {
    .copy-btn {
        opacity: 1 !important;
        background: var(--copy-btn-bg-mobile);
    }
}
.copy-btn:hover {
    background: var(--copy-btn-bg-hover);
}
.copy-btn.copied {
    background: var(--copy-btn-bg-copied);
    color: var(--copy-btn-text);
}
/* --- 3. WEBFLOW CONFLICT FIXES --- */
/* Fix Webflow .tag class conflict with Prism .tag */
.w-code-block .token.tag {
    border: none !important;
    background: transparent !important;
    padding: 0 !important;
    border-radius: 0 !important;
    margin: 0 !important;
    box-shadow: none !important;
}
